@using QuizApp.Models

<div class="container text-center mt-5">
    <h2>Résultat</h2>
    <p>Bonjour @Model.UserName, votre score est de <strong>@Model.Score</strong>.</p>

    @if (ViewBag.LastQuestion != null && ViewBag.LastQuestion is Question lastQuestion)
    {
        <p>Dernière question : @lastQuestion.Text</p>
        <p>Votre réponse : @(ViewBag.LastAnswerIndex != null ? lastQuestion.Options.ElementAtOrDefault((int)ViewBag.LastAnswerIndex) ?? "Non répondu" : "Non répondu")</p>
        <p>Bonne réponse : @(lastQuestion.Options.ElementAtOrDefault(lastQuestion.CorrectAnswerIndex) ?? "Non défini")</p>
    }
    else
    {
        <p>Aucune question n'a été enregistrée pour le résultat.</p>
    }

    <a href="/Quiz/Start" class="btn btn-primary">Rejouer</a>
</div>
